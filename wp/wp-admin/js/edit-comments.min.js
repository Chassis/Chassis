!function(a){var b,c,d,e,f,g,h,i,j,k,l=document.title,m=a("#dashboard_right_now").length;b=function(a){var b=parseInt(a.html().replace(/[^0-9]+/g,""),10);return isNaN(b)?0:b},c=function(a,b){var c="";if(!isNaN(b)){if(b=b<1?"0":b.toString(),b.length>3){for(;b.length>3;)c=thousandsSeparator+b.substr(b.length-3)+c,b=b.substr(0,b.length-3);b+=c}a.html(b)}},f=function(e,f){var g,h,i=".post-com-count-"+f,j="comment-count-no-comments",k="comment-count-approved";d("span.approved-count",e),f&&(g=a("span."+k,i),h=a("span."+j,i),g.each(function(){var d=a(this),f=b(d)+e;f<1&&(f=0),0===f?d.removeClass(k).addClass(j):d.addClass(k).removeClass(j),c(d,f)}),h.each(function(){var b=a(this);e>0?b.removeClass(j).addClass(k):b.addClass(j).removeClass(k),c(b,e)}))},d=function(d,e){a(d).each(function(){var d=a(this),f=b(d)+e;f<1&&(f=0),c(d,f)})},h=function(b){m&&b&&b.i18n_comments_text&&a(".comment-count a","#dashboard_right_now").text(b.i18n_comments_text)},i=function(b){b&&b.i18n_moderation_text&&(a(".comments-in-moderation-text").text(b.i18n_moderation_text),m&&b.in_moderation&&a(".comment-mod-count","#dashboard_right_now")[b.in_moderation>0?"removeClass":"addClass"]("hidden"))},g=function(d){var e,f,g,h;k=k||new RegExp(adminCommentsL10n.docTitleCommentsCount.replace("%s","\\([0-9"+thousandsSeparator+"]+\\)")+"?"),j=j||a("<div />"),e=l,h=k.exec(document.title),h?(h=h[0],j.html(h),g=b(j)+d):(j.html(0),g=d),g>=1?(c(j,g),f=k.exec(document.title),f&&(e=document.title.replace(f[0],adminCommentsL10n.docTitleCommentsCount.replace("%s",j.text())+" "))):(f=k.exec(e),f&&(e=e.replace(f[0],adminCommentsL10n.docTitleComments))),document.title=e},e=function(d,e){var f,h,i=".post-com-count-"+e,j="comment-count-no-pending",k="post-com-count-no-pending",l="comment-count-pending";m||g(d),a("span.pending-count").each(function(){var e=a(this),f=b(e)+d;f<1&&(f=0),e.closest(".awaiting-mod")[0===f?"addClass":"removeClass"]("count-0"),c(e,f)}),e&&(f=a("span."+l,i),h=a("span."+j,i),f.each(function(){var e=a(this),f=b(e)+d;f<1&&(f=0),0===f?(e.parent().addClass(k),e.removeClass(l).addClass(j)):(e.parent().removeClass(k),e.addClass(l).removeClass(j)),c(e,f)}),h.each(function(){var b=a(this);d>0?(b.parent().removeClass(k),b.removeClass(j).addClass(l)):(b.parent().addClass(k),b.addClass(j).removeClass(l)),c(b,d)}))},window.setCommentsList=function(){var c,g,j,k,l,n,o,p,q,r=0;c=a('input[name="_total"]',"#comments-form"),g=a('input[name="_per_page"]',"#comments-form"),j=a('input[name="_page"]',"#comments-form"),n=function(a,b,d){b<r||(d&&(r=b),c.val(a.toString()))},k=function(b,c){var d,g,j,k,l=a("#"+c.element);!0!==c.parsed&&(k=c.parsed.responses[0]),d=a("#replyrow"),g=a("#comment_ID",d).val(),j=a("#replybtn",d),l.is(".unapproved")?(c.data.id==g&&j.text(adminCommentsL10n.replyApprove),l.find(".row-actions span.view").addClass("hidden").end().find("div.comment_status").html("0")):(c.data.id==g&&j.text(adminCommentsL10n.reply),l.find(".row-actions span.view").removeClass("hidden").end().find("div.comment_status").html("1")),q=a("#"+c.element).is("."+c.dimClass)?1:-1,k?(h(k.supplemental),i(k.supplemental),e(q,k.supplemental.postId),f(-1*q,k.supplemental.postId)):(e(q),f(-1*q))},l=function(b,d){var e,f,h,i,k,l,m,n=!1,o=a(b.target).attr("data-wp-lists");return b.data._total=c.val()||0,b.data._per_page=g.val()||0,b.data._page=j.val()||0,b.data._url=document.location.href,b.data.comment_status=a('input[name="comment_status"]',"#comments-form").val(),o.indexOf(":trash=1")!=-1?n="trash":o.indexOf(":spam=1")!=-1&&(n="spam"),n&&(f=o.replace(/.*?comment-([0-9]+).*/,"$1"),h=a("#comment-"+f),e=a("#"+n+"-undo-holder").html(),h.find(".check-column :checkbox").prop("checked",!1),h.siblings("#replyrow").length&&commentReply.cid==f&&commentReply.close(),h.is("tr")?(i=h.children(":visible").length,m=a(".author strong",h).text(),k=a('<tr id="undo-'+f+'" class="undo un'+n+'" style="display:none;"><td colspan="'+i+'">'+e+"</td></tr>")):(m=a(".comment-author",h).text(),k=a('<div id="undo-'+f+'" style="display:none;" class="undo un'+n+'">'+e+"</div>")),h.before(k),a("strong","#undo-"+f).text(m),l=a(".undo a","#undo-"+f),l.attr("href","comment.php?action=un"+n+"comment&c="+f+"&_wpnonce="+b.data._ajax_nonce),l.attr("data-wp-lists","delete:the-comment-list:comment-"+f+"::un"+n+"=1"),l.attr("class","vim-z vim-destructive aria-button-if-js"),a(".avatar",h).first().clone().prependTo("#undo-"+f+" ."+n+"-undo-inside"),l.click(function(b){b.preventDefault(),b.stopPropagation(),d.wpList.del(this),a("#undo-"+f).css({backgroundColor:"#ceb"}).fadeOut(350,function(){a(this).remove(),a("#comment-"+f).css("backgroundColor","").fadeIn(300,function(){a(this).show()})})})),b},o=function(g,j){var k,l,o,q,s,t,u,v,w=!0===j.parsed?{}:j.parsed.responses[0],x=!0===j.parsed?"":w.supplemental.status,y=!0===j.parsed?"":w.supplemental.postId,z=!0===j.parsed?"":w.supplemental,A=a(j.target).parent(),B=a("#"+j.element),C=B.hasClass("approved")&&!B.hasClass("unapproved"),D=B.hasClass("unapproved"),E=B.hasClass("spam"),F=B.hasClass("trash"),G=!1;h(z),i(z),A.is("span.undo")?(A.hasClass("unspam")?(s=-1,"trash"===x?t=1:"1"===x?v=1:"0"===x&&(u=1)):A.hasClass("untrash")&&(t=-1,"spam"===x?s=1:"1"===x?v=1:"0"===x&&(u=1)),G=!0):A.is("span.spam")?(C?v=-1:D?u=-1:F&&(t=-1),s=1):A.is("span.unspam")?(C?u=1:D?v=1:F?A.hasClass("approve")?v=1:A.hasClass("unapprove")&&(u=1):E&&(A.hasClass("approve")?v=1:A.hasClass("unapprove")&&(u=1)),s=-1):A.is("span.trash")?(C?v=-1:D?u=-1:E&&(s=-1),t=1):A.is("span.untrash")?(C?u=1:D?v=1:F&&(A.hasClass("approve")?v=1:A.hasClass("unapprove")&&(u=1)),t=-1):A.is("span.approve:not(.unspam):not(.untrash)")?(v=1,u=-1):A.is("span.unapprove:not(.unspam):not(.untrash)")?(v=-1,u=1):A.is("span.delete")&&(E?s=-1:F&&(t=-1)),u&&(e(u,y),d("span.all-count",u)),v&&(f(v,y),d("span.all-count",v)),s&&d("span.spam-count",s),t&&d("span.trash-count",t),("trash"===j.data.comment_status&&!b(a("span.trash-count"))||"spam"===j.data.comment_status&&!b(a("span.spam-count")))&&a("#delete_all").hide(),m||(l=c.val()?parseInt(c.val(),10):0,a(j.target).parent().is("span.undo")?l++:l--,l<0&&(l=0),"object"==typeof g?w.supplemental.total_items_i18n&&r<w.supplemental.time?(k=w.supplemental.total_items_i18n||"",k&&(a(".displaying-num").text(k),a(".total-pages").text(w.supplemental.total_pages_i18n),a(".tablenav-pages").find(".next-page, .last-page").toggleClass("disabled",w.supplemental.total_pages==a(".current-page").val())),n(l,w.supplemental.time,!0)):w.supplemental.time&&n(l,w.supplemental.time,!1):n(l,g,!1)),theExtraList&&0!==theExtraList.length&&0!==theExtraList.children().length&&!G&&(theList.get(0).wpList.add(theExtraList.children(":eq(0):not(.no-items)").remove().clone()),p(),o=a(":animated","#the-comment-list"),q=function(){a("#the-comment-list tr:visible").length||theList.get(0).wpList.add(theExtraList.find(".no-items").clone())},o.length?o.promise().done(q):q())},p=function(b){var c=a.query.get(),d=a(".total-pages").text(),e=a('input[name="_per_page"]',"#comments-form").val();c.paged||(c.paged=1),c.paged>d||(b?(theExtraList.empty(),c.number=Math.min(8,e)):(c.number=1,c.offset=Math.min(8,e)-1),c.no_placeholder=!0,c.paged++,!0===c.comment_type&&(c.comment_type=""),c=a.extend(c,{action:"fetch-list",list_args:list_args,_ajax_fetch_list_nonce:a("#_ajax_fetch_list_nonce").val()}),a.ajax({url:ajaxurl,global:!1,dataType:"json",data:c,success:function(a){theExtraList.get(0).wpList.add(a.rows)}}))},window.theExtraList=a("#the-extra-comment-list").wpList({alt:"",delColor:"none",addColor:"none"}),window.theList=a("#the-comment-list").wpList({alt:"",delBefore:l,dimAfter:k,delAfter:o,addColor:"none"}).bind("wpListDelEnd",function(b,c){var d=a(c.target).attr("data-wp-lists"),e=c.element.replace(/[^0-9]+/g,"");d.indexOf(":trash=1")==-1&&d.indexOf(":spam=1")==-1||a("#undo-"+e).fadeIn(300,function(){a(this).show()})})},window.commentReply={cid:"",act:"",originalContent:"",init:function(){var b=a("#replyrow");a(".cancel",b).click(function(){return commentReply.revert()}),a(".save",b).click(function(){return commentReply.send()}),a("input#author-name, input#author-email, input#author-url",b).keypress(function(a){if(13==a.which)return commentReply.send(),a.preventDefault(),!1}),a("#the-comment-list .column-comment > p").dblclick(function(){commentReply.toggle(a(this).parent())}),a("#doaction, #doaction2, #post-query-submit").click(function(){a("#the-comment-list #replyrow").length>0&&commentReply.close()}),this.comments_listing=a('#comments-form > input[name="comment_status"]').val()||""},addEvents:function(b){b.each(function(){a(this).find(".column-comment > p").dblclick(function(){commentReply.toggle(a(this).parent())})})},toggle:function(b){"none"!==a(b).css("display")&&(a("#replyrow").parent().is("#com-reply")||window.confirm(adminCommentsL10n.warnQuickEdit))&&a(b).find("a.vim-q").click()},revert:function(){return!(a("#the-comment-list #replyrow").length<1)&&void a("#replyrow").fadeOut("fast",function(){commentReply.close()})},close:function(){var b=a(),c=a("#replyrow");c.parent().is("#com-reply")||(this.cid&&(b=a("#comment-"+this.cid)),"edit-comment"===this.act&&b.fadeIn(300,function(){b.show().find(".vim-q").attr("aria-expanded","false").focus()}).css("backgroundColor",""),"replyto-comment"===this.act&&b.find(".vim-r").attr("aria-expanded","false").focus(),"undefined"!=typeof QTags&&QTags.closeAllTags("replycontent"),a("#add-new-comment").css("display",""),c.hide(),a("#com-reply").append(c),a("#replycontent").css("height","").val(""),a("#edithead input").val(""),a(".notice-error",c).addClass("hidden").find(".error").empty(),a(".spinner",c).removeClass("is-active"),this.cid="",this.originalContent="")},open:function(b,c,d){var e,f,g,h,i,j=this,k=a("#comment-"+b),l=k.height(),m=0;return!!this.discardCommentChanges()&&(j.close(),j.cid=b,e=a("#replyrow"),f=a("#inline-"+b),d=d||"replyto",g="edit"==d?"edit":"replyto",g=j.act=g+"-comment",j.originalContent=a("textarea.comment",f).val(),m=a("> th:visible, > td:visible",k).length,e.hasClass("inline-edit-row")&&0!==m&&a("td",e).attr("colspan",m),a("#action",e).val(g),a("#comment_post_ID",e).val(c),a("#comment_ID",e).val(b),"edit"==d?(a("#author-name",e).val(a("div.author",f).text()),a("#author-email",e).val(a("div.author-email",f).text()),a("#author-url",e).val(a("div.author-url",f).text()),a("#status",e).val(a("div.comment_status",f).text()),a("#replycontent",e).val(a("textarea.comment",f).val()),a("#edithead, #editlegend, #savebtn",e).show(),a("#replyhead, #replybtn, #addhead, #addbtn",e).hide(),l>120&&(i=l>500?500:l,a("#replycontent",e).css("height",i+"px")),k.after(e).fadeOut("fast",function(){a("#replyrow").fadeIn(300,function(){a(this).show()})})):"add"==d?(a("#addhead, #addbtn",e).show(),a("#replyhead, #replybtn, #edithead, #editlegend, #savebtn",e).hide(),a("#the-comment-list").prepend(e),a("#replyrow").fadeIn(300)):(h=a("#replybtn",e),a("#edithead, #editlegend, #savebtn, #addhead, #addbtn",e).hide(),a("#replyhead, #replybtn",e).show(),k.after(e),k.hasClass("unapproved")?h.text(adminCommentsL10n.replyApprove):h.text(adminCommentsL10n.reply),a("#replyrow").fadeIn(300,function(){a(this).show()})),setTimeout(function(){var b,c,d,e,f;b=a("#replyrow").offset().top,c=b+a("#replyrow").height(),d=window.pageYOffset||document.documentElement.scrollTop,e=document.documentElement.clientHeight||window.innerHeight||0,f=d+e,f-20<c?window.scroll(0,c-e+35):b-20<d&&window.scroll(0,b-35),a("#replycontent").focus().keyup(function(a){27==a.which&&commentReply.revert()})},600),!1)},send:function(){var b={},c=a("#replysubmit .error-notice");c.addClass("hidden"),a("#replysubmit .spinner").addClass("is-active"),a("#replyrow input").not(":button").each(function(){var c=a(this);b[c.attr("name")]=c.val()}),b.content=a("#replycontent").val(),b.id=b.comment_post_ID,b.comments_listing=this.comments_listing,b.p=a('[name="p"]').val(),a("#comment-"+a("#comment_ID").val()).hasClass("unapproved")&&(b.approve_parent=1),a.ajax({type:"POST",url:ajaxurl,data:b,success:function(a){commentReply.show(a)},error:function(a){commentReply.error(a)}})},show:function(b){var c,g,j,k,l,m=this;return"string"==typeof b?(m.error({responseText:b}),!1):(c=wpAjax.parseAjaxResponse(b),c.errors?(m.error({responseText:wpAjax.broken}),!1):(m.revert(),c=c.responses[0],j="#comment-"+c.id,"edit-comment"==m.act&&a(j).remove(),c.supplemental.parent_approved&&(l=a("#comment-"+c.supplemental.parent_approved),e(-1,c.supplemental.parent_post_id),"moderated"==this.comments_listing)?void l.animate({backgroundColor:"#CCEEBB"},400,function(){l.fadeOut()}):(c.supplemental.i18n_comments_text&&(h(c.supplemental),i(c.supplemental),f(1,c.supplemental.parent_post_id),d("span.all-count",1)),g=a.trim(c.data),a(g).hide(),a("#replyrow").after(g),j=a(j),m.addEvents(j),k=j.hasClass("unapproved")?"#FFFFE0":j.closest(".widefat, .postbox").css("backgroundColor"),void j.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:k},300,function(){l&&l.length&&l.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:k},300).removeClass("unapproved").addClass("approved").find("div.comment_status").html("1")}))))},error:function(b){var c=b.statusText,d=a("#replysubmit .notice-error"),e=d.find(".error");a("#replysubmit .spinner").removeClass("is-active"),b.responseText&&(c=b.responseText.replace(/<.[^<>]*?>/g,"")),c&&(d.removeClass("hidden"),e.html(c))},addcomment:function(b){var c=this;a("#add-new-comment").fadeOut(200,function(){c.open(0,b,"add"),a("table.comments-box").css("display",""),a("#no-comments").remove()})},discardCommentChanges:function(){var b=a("#replyrow");return this.originalContent===a("#replycontent",b).val()||window.confirm(adminCommentsL10n.warnCommentChanges)}},a(document).ready(function(){var b,c,d,e;setCommentsList(),commentReply.init(),a(document).on("click","span.delete a.delete",function(a){a.preventDefault()}),"undefined"!=typeof a.table_hotkeys&&(b=function(b){return function(){var c,d;c="next"==b?"first":"last",d=a(".tablenav-pages ."+b+"-page:not(.disabled)"),d.length&&(window.location=d[0].href.replace(/\&hotkeys_highlight_(first|last)=1/g,"")+"&hotkeys_highlight_"+c+"=1")}},c=function(b,c){window.location=a("span.edit a",c).attr("href")},d=function(){a("#cb-select-all-1").data("wp-toggle",1).trigger("click").removeData("wp-toggle")},e=function(b){return function(){var c=a('select[name="action"]');a('option[value="'+b+'"]',c).prop("selected",!0),a("#doaction").click()}},a.table_hotkeys(a("table.widefat"),["a","u","s","d","r","q","z",["e",c],["shift+x",d],["shift+a",e("approve")],["shift+s",e("spam")],["shift+d",e("delete")],["shift+t",e("trash")],["shift+z",e("untrash")],["shift+u",e("unapprove")]],{highlight_first:adminCommentsL10n.hotkeys_highlight_first,highlight_last:adminCommentsL10n.hotkeys_highlight_last,prev_page_link_cb:b("prev"),next_page_link_cb:b("next"),hotkeys_opts:{disableInInput:!0,type:"keypress",noDisable:'.check-column input[type="checkbox"]'},cycle_expr:"#the-comment-list tr",start_row_index:0})),a("#the-comment-list").on("click",".comment-inline",function(){var b=a(this),c="replyto";"undefined"!=typeof b.data("action")&&(c=b.data("action")),a(this).attr("aria-expanded","true"),commentReply.open(b.data("commentId"),b.data("postId"),c)})})}(jQuery);